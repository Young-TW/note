---
tags: 使用說明
description: Vim 的基本操作與按鍵表
---

# Vim

[TOC]

- [鳥哥的介紹](http://linux.vbird.org/linux_basic/0310vi.php)
- [按鍵表](http://www.vixual.net/blog/archives/234)

## 簡介

Vim 是一款文字編輯器  
雖然年代久遠但是功能非常齊全  
並且在終端機裡面運作  
可以藉由 ssh 這種的連線方式來使用  
Vim 的所有功能都是靠快速鍵和指令來完成  
所以學習成本偏高  
但是上手以後相當好用  
許多老一輩的程式開發者都會用 Vim  

## 基本操作
:::warning
:loudspeaker: 以下操作皆為 Linux Ubuntu 系統的終端機  
:::

- 進入 Vim 編輯器

首先進入young.py  

![](https://i.imgur.com/Cm7unRa.png)  

不需要建立檔案，可以直接進入到編輯器存檔就會產生檔案了  

- 一般(唯獨)模式

開啟 vim 預設會開啟一般(唯獨)模式  

![](https://i.imgur.com/SsOCwNU.png)

在這個模式下是無法對檔案進行修改的  

- 插入模式

在唯獨模式按下a以進入插入模式  

![](https://i.imgur.com/zIEKTX1.png)

看到INSERT代表目前在插入模式  
代表現在可以開始打字了  
修改好檔案後在插入模式中按下 esc 回到唯獨模式  
接著輸入 :wq 存檔並退出  

## 按鍵表

- 檔案功能

| 功能 | 指令 |
| :---: | :---: |
| 編輯檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :e 檔案名稱 |
| 還原至檔案編修前的狀態 | :e! |
| 列出目前目錄下的檔案 | :Ex |
| 列出指定路徑下的檔案 | :Ex 路徑 |
| 存檔 (加 ! 表示強制存檔) | :w |
| 另存新檔 | :w 檔案名稱 |
| 退出 vi (加 ! 表示不存檔強制退出) | :q |
| 存檔並退出 vi | :wq |
| 存檔並退出 vi | :x |
| 存檔沒有寫入檔案的權限，以 root 的權限存檔 | :w !sudo tee % |
| 讀入檔案內容，並加到游標行的後面 | :r 檔案名稱 |
| 切換到下一個開啟的檔案 | :n |
| 切換到上一個開啟的檔案 | :N |
| 設定顯示行號 | :set nu |
| 取消行號顯示 | :set nonu |
| 列出所有開啟的檔案 | :files |

- 進入編輯模式

| 功能 | 指令 |
| :---: | :---: |
| 在游標位置後進入編輯模式 | a |
| 在游標行的最後一個字元進入編輯模式 | A |
| 在游標位置進入編輯模式 | i |
| 在游標行的第一個非空白字元進入編輯模式 | I |
| 向下新增一行，並進入編輯模式 | o |
| 向上新增一行，並進入編輯模式 | O |
| 刪除游標行，並進入編輯模式 | cc |
| 取消指令或退出編輯模式 | **esc** |

- 游標移動

| 功能 | 指令 |
| :---: | :---: |
| 移到第一行 | gg |
| 移到最後一行 | G |
| 移動到第 n 行 | :行數 |
| 移動到第 n 行 | 行數 → G |
| 移動到該行最前面 | 0 |
| 移動到該行最後面 | $ |
| 向右移動 n 個字元 | 字數 → **Space** |
| 向下移動 n 行 | 行數 → **Enter** |
| 向左移動 | h |
| 向下移動 | j |
| 向上移動 | k |
| 向左移動 | l |

- 標記與複製

| 功能 | 指令 |
| :---: | :---: | 
| 開始字串標記 | v |
| 開始行標記 | V |
| 開始區塊標記 | v → Ctrl + V |
| 刪除標記的內容 | d |
| 複製標記的內容 | y |
| 複製游標行 | yy |
| 複製游標行到最後一行 | yG |
| 複製游標行到第一行 | y1G |
| 複製游標處到最後一個字元 | y$ |
| 複製游標處到第一個字元 | y0 |
| 在下一行貼上複製或刪除的內容 | p |
| 在上一行貼上複製或刪除的內容 | P |
| 在下一行貼上複製或刪除的內容，適用於編輯模式及指令行 | Ctrl + R → 0 |

- 刪除

| 功能 | 指令 |
| :---: | :---: |
| 刪除游標行 | dd |
| 刪除 n 行 | 行數 → dd |
| 刪除游標行到最後一行 | dG |
| 刪除游標行到第一行 | d1G |
| 刪除游標處到最後一個字元 | d$ |
| 刪除游標處到第一個字元 | d0 |

- 搜尋與取代

| 功能 | 指令 |
| :---: | :---: |
| 向下搜尋字串 | /搜尋字串 |
| 向下搜尋字串，不分大小寫 | /\c搜尋字串 |
| 向上搜尋字串 | ?搜尋字串 |
| 向上搜尋字串，不分大小寫 | ?\c搜尋字串 |
| 繼續下一個全文搜尋的結果 | n |
| 繼續上一個全文搜尋的結果 | N |
| 先將游標移至你想要搜尋的字串，輸入 * 就會直接向下搜尋與游標處相同的字串 | * |
| 從第 n 行到第 n 行取代字串 (後面的 g 表示整行全部, i 不分大小寫 c 詢問) | :起始行,終止行s/搜尋字串/取代字串/gic |
| 全部取代字串 (後面的 g 表示整行全部, i 不分大小寫 c 詢問) | :1,$s/搜尋字串/取代字串/gic |
| 清除搜尋結果 | :noh |
| 設定全文搜尋時不分大小寫 | :set ic |
| 設定全文搜尋時要分大小寫 | :set noic |
| 向下搜尋字元 (限同一行) | f → 搜尋字元 |
| 向上搜尋字元 (限同一行) | F → 搜尋字元 |

- 視窗分割

| 功能 | 指令 |
| :---: | :---: |
| 新增水平分割視窗 | :new |
| 新增水平分割視窗，並載入檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :new 檔案名稱 |
| 新增垂直分割視窗 | :vnew |
| 新增垂直分割視窗，並載入檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :vnew 檔案名稱 |
|新增水平分割視窗，並在新視窗載入目前的檔案 | :sp |
| 新增水平分割視窗，並載入檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :sp 檔案名稱 |
| 新增垂直分割視窗，並在新視窗載入目前的檔案 | :vsp |
| 新增垂直分割視窗，並載入檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :vsp 檔案名稱 |
| 新增水平分割視窗，並列出目前目錄下的檔案 | :Hex |
| 新增水平分割視窗，並列出指定路徑下的檔案 | :Hex 路徑 |
| 新增垂直分割視窗，並列出目前目錄下的檔案 | :Vex |
| 新增垂直分割視窗，並列出指定路徑下的檔案 | :Vex 路徑 |
| 切換視窗 | Ctrl + W → 方向鍵 |
| 僅保留目前的視窗 | :only |

- 頁籤

| 功能 | 指令 |
| :---: | :---: |
| 新增頁籤 | :tabe |
| 新增頁籤，並載入檔案 (檔案名稱輸入 . 或路徑表示列出目錄下的檔案) | :tabe 檔案名稱 |
| 新增頁籤，並列出目前目錄下的檔案 | :Tex |
| 新增頁籤，並列出指定路徑下的檔案 | :Tex 路徑 |
| 關閉目前的頁籤，等同 :q | :tabc |
| 關閉所有頁籤 | :tabo |
| 移至下一個頁籤 | :tabn |
| 移至上一個頁籤 | :tabp |
| 移至下一個頁籤 | gt |
| 移至上一個頁籤 | gT |
| 移至第一個頁籤 | :tabfirst |
| 移至最後一個頁籤 | :tablast |
| 移至特定編號的頁籤 (編號從 0 開始 | :tabm 頁籤編號 |
| 列出所有頁籤 | :tabs |

- 其它指令

| 功能 | 指令 |
| :---: | :---: |
| 將游標行與下一行合併 | J |
| 復原上一次的操作 | u |
| 重做上一次的操作 | **Ctrl** + R |
| 將游標處的數字遞增 | **Ctrl** + A |
| 將游標處的數字遞減 | **Ctrl** + X |
| 自動補齊曾輸入過的單字 | **Ctrl** + N |
| 重覆上一個指令 | . |
| 執行 linux 指令，並顯示執行結果 | ! 命令 |
| 將目前編輯的檔案轉換成 HTML 原始碼 (會新增一個水平分割視窗) | 	TOhtml |

- 檔案瀏覽器操作

| 功能 | 指令 |
| :---: | :---: |
| 到上層目錄 | - |
| 建立目錄 | d |
| 刪除目錄 | D |
| 重新命名 | R |
| 切換排序方式 | s |
| 切換升冪/降冪排序 | r |
| 切換檔案的排列方式 | i |
| 搜尋字串 | / |
| 執行檔案 | x |
| 新增水平視窗 | o |
| 新增垂直視窗 | v |

- Vim 設定檔

| 功能 | 指令 |
| :---: | :---: |
| 顯示列號 | set number |
| 語法高亮度顯示 | syntax on |
| 標記搜尋到的字串 | set hlsearch |
| 自動縮排 | set autoindent |
| 顯示說明 | set ruler |
| 顯示編輯狀態 | set showmode |
| 設定註解的顏色 | highlight Comment ctermfg=cyan |
| 設定搜尋到的字串顏色 | highlight Search term=reverse ctermbg=4 ctermfg=7 |
| 設定 tab 鍵的字元數 | set tabstop=4 |
